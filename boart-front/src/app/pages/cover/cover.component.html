<app-header></app-header>
<article class="container-fluid">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-2">
    <div class="filter_publication app_box">
    <ul>
      <li class="filter"><a  (click)="changeFilter('latest')" class="active" id="aLikes"><i aria-hidden="true" class="icofont icofont-newspaper"></i>+ nuevos</a></li>
      <li class="filter"><a (click)="changeFilter('likes')" id="aLatest"><i aria-hidden="true" class="glyphicon glyphicon-heart-empty"></i>+ valorados</a></li>
      <li class="filter"><a (click)="changeFilter('comments')" id="aComments"><i aria-hidden="true" class="icofont icofont-comment"></i>+ comentados</a></li>
    </ul>
    <app-search [tags]="tags" [filter]="filter" (addTagEvent) ="addTag($event)" (remTagEvent) ="removeTag($event)"></app-search>
    <!--<app-tag-list></app-tag-list>-->
  </div>
      <div class="app_box groups" *ngIf="loginService.isLogged && groups.length > 0">
          <h2>Tus Grupos</h2>
        <div *ngFor="let group of groups">
          <a routerLink="/group/{{group.id}}"><img src="{{group.img}}" class="img-responsive"/><span>{{group.title}}</span></a>
        </div>
      </div>
      
    </div>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-10">
    <div id="columns">
      <div *ngFor="let publication of publications" class="publication app_box publication_box" [@moveDown]='state'>
        <!--<a routerLink="/publication/{{ publication.id }}">-->
        <a>
          <app-media url="{{publication.media}}" media_type="{{publication.media_type}}"></app-media>
          <p routerLink="/publication/{{ publication.id }}">{{ publication.title }}</p>
          <div class="rating">
            <a id="{{ publication.id }}">
              <span (click)="likeHandler(publication)" class="glyphicon glyphicon-heart-empty like_icon" [ngClass]="{'added': publication.ownLike}" aria-hidden="true" id="{{id}}"></span>
              <span class="rating-value">{{ publication.numberOfLikes }}</span>
            </a>
          </div>
          <div class="comments">
            <span class="glyphicon glyphicon-comment" aria-hidden="true"></span>
            <span class="numComments">{{ publication.numberOfComments }}</span>
          </div>
          <div class="tag_component">
            <app-tag-list [tags]="publication.tags"> </app-tag-list>
          </div>
          <div class="divDate">
            {{ publication.stringDate }}
          </div>
        </a>
        <!--<script>checkMyLike({{id}})</script>-->
      </div>
    </div>
      			<div class="load_more">
				<span (click)="getMorePublications()">Cargar m√°s publicaciones</span>
			</div>
  </div>
</article>
